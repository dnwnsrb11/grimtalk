server {
    listen 80;
    server_name localhost;

    # React/Vue λΉλ“ νμΌλ“¤μ΄ μ„μΉν• λ””λ ‰ν† λ¦¬ μ§€μ •
    root /usr/share/nginx/html;
    # κΈ°λ³ΈμΌλ΅ μ κ³µν•  νμΌ μ§€μ •
    index index.html;

    # π‘‡ SPA λΌμ°ν…μ„ μ„ν• ν•µμ‹¬ μ„¤μ •
    location / {
        # try_files μ§€μ‹μ–΄λ” λ‹¤μ μμ„λ΅ νμΌμ„ μ°Ύμ:
        # 1. $uri : μ”μ²­λ URLκ³Ό μ •ν™•ν μΌμΉν•λ” νμΌ μ°ΎκΈ° (μ: /about)
        # 2. $uri/ : μ”μ²­λ URLκ³Ό μΌμΉν•λ” λ””λ ‰ν† λ¦¬ μ°ΎκΈ° (μ: /about/)
        # 3. /index.html : μ„ λ‘ λ‹¤ μ—†μΌλ©΄ index.htmlλ΅ ν΄λ°±(fallback)
        #
        # μμ‹:
        # /about μ ‘μ† μ‹ β†’ about νμΌ μ—†μ β†’ about/ λ””λ ‰ν† λ¦¬ μ—†μ β†’ index.html μ κ³µ
        # β†’ React/Vueκ°€ ν΄λΌμ΄μ–ΈνΈμ—μ„ λΌμ°ν… μ²λ¦¬
        try_files $uri $uri/ /index.html;
    }

    # π‘‡ 404 μ—λ¬ μ²λ¦¬ (μ„μ try_filesμ™€ ν•¨κ» λ™μ‘)
    # λ‹¤λ¥Έ λ¨λ“  HTTP μ—λ¬λ„ index.htmlλ΅ λ¦¬λ‹¤μ΄λ ‰νΈν•λ ¤λ©΄ μ•„λμ²λΌ μ„¤μ •
    error_page 404 =200 /index.html;
    # =200μ€ 404 λ€μ‹  200 μƒνƒμ½”λ“λ¥Ό λ°ν™ν•λ„λ΅ ν•¨
    # μ΄λ ‡κ² ν•λ©΄ λΈλΌμ°μ €μ—μ„ 404 μ—λ¬ λ€μ‹  μ •μƒ μ‘λ‹µμΌλ΅ μ²λ¦¬
}